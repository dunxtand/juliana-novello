{% set blocks = flex_blocks %}

{% for block in blocks %}

  {% set anchor = block.title|sanitize ~ '-' ~ loop.index %}

  <section id="{{ anchor|sanitize }}" style="{% if block.block_text_color %}color:#000!important;{% endif %}{% if block.block_text_align_center %}text-align:center;{% endif %}" class="flex-blocks{% if block.is_gradient == "true" %} bkg-gradient pb-10 mb-10{% endif %}">

    <div class="flex-block-wrapper">

      {% if 'block_featured_case_studies' == block.acf_fc_layout %}

        {% if block.case_studies %}

          {% include 'blocks/casestudies.twig' %}

        {% endif %}

      {% elseif 'block_cta' == block.acf_fc_layout %}

        {% if block.cta %}

          {% include 'blocks/cta.twig' %}

        {% endif %}

      {% elseif 'block_featured_insights' == block.acf_fc_layout %}

        {% if block.insights %}

          {% include 'blocks/insights.twig' %}

        {% endif %}

      {% elseif 'block_feedback' == block.acf_fc_layout %}

        {% if block.feedback %}

          {% include 'blocks/feedback.twig' %}

        {% endif %}

      {% elseif 'block_about' == block.acf_fc_layout %}

        {% if block.link_1 or block.link_2 %}

          {% include 'blocks/about.twig' %}

        {% endif %}

      {% elseif 'block_wysiwyg' == block.acf_fc_layout %}

        {% if block.wysiwyg %}

          {% include 'blocks/wysiwyg.twig' %}

        {% endif %}

      {% elseif 'block_image_gallery' == block.acf_fc_layout %}

        {% include 'blocks/gallery.twig' %}

      {% elseif 'block_quote' == block.acf_fc_layout %}

        {% if block.block_quote_relationship %}

          {% include 'blocks/quote.twig' %}

        {% endif %}

      {% elseif 'block_video' == block.acf_fc_layout %}

        {% if block.video_desktop_id %}

          {% include 'blocks/video.twig' %}

        {% endif %}

      {% elseif 'block_results' == block.acf_fc_layout %}

        {% if block.results_repeater %}

          {% include 'blocks/results.twig' %}

        {% endif %}

      {% elseif 'block_capabilities' == block.acf_fc_layout %}

        {% if block.capabilities_repeater %}

          {% include 'blocks/capabilities.twig' %}

        {% endif %}

      {% elseif 'block_approach' == block.acf_fc_layout %}

        {% if block.approach_repeater %}

          {% include 'blocks/approach.twig' %}

        {% endif %}

      {% endif %}

    </div>

    {% if  block.block_background_color %}<div class="bkg-color" style="background:{% if block.block_background_color == '#e5e5e5' %}#fff{% else %}{{ block.block_background_color }}{% endif %}"></div>{% endif %}

  </section>

{% endfor %}
